<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø´Ø¨ÙƒØªÙŠ - Ù…Ø­Ø§Ø¯Ø«Ø§Øª</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f0f2f5; }
  header { background:#4CAF50; color:white; padding:15px; text-align:center; font-size:24px; }
  .container { max-width:600px; margin:20px auto; background:white; padding:15px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1); }
  input, textarea { width:100%; padding:10px; margin:5px 0; border:1px solid #ccc; border-radius:5px; }
  button { background:#4CAF50; color:white; border:none; padding:10px 20px; border-radius:5px; cursor:pointer; margin:2px; }
  button:hover { background:#45a049; }
  .chat-window { max-height:400px; overflow-y:auto; margin-top:10px; }
  .message { border-bottom:1px solid #ddd; padding:10px; display:flex; justify-content: space-between; align-items:center; }
  .message:last-child { border:none; }
  .message-text { flex:1; margin-right:10px; }
</style>
</head>
<body>

<header>Ø´Ø¨ÙƒØªÙŠ</header>

<div class="container">
  <input type="text" id="username" placeholder="Ø§Ø³Ù…Ùƒ">
  <textarea id="message" rows="3" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§"></textarea>
  <button onclick="sendMessage()">Ø£Ø±Ø³Ù„</button>

  <div class="chat-window" id="chatWindow"></div>
</div>

<script>
let messages = [];

function renderMessages() {
  const chatWindow = document.getElementById('chatWindow');
  chatWindow.innerHTML = '';
  messages.forEach((msg, index) => {
    const div = document.createElement('div');
    div.className = 'message';

    const textDiv = document.createElement('div');
    textDiv.className = 'message-text';
    textDiv.innerHTML = `<strong>${msg.username}:</strong> ${msg.text}`;

    const editBtn = document.createElement('button');
    editBtn.textContent = 'âœï¸';
    editBtn.onclick = () => editMessage(index);

    const deleteBtn = document.createElement('button');
    deleteBtn.textContent = 'ğŸ—‘ï¸';
    deleteBtn.onclick = () => deleteMessage(index);

    div.appendChild(textDiv);
    div.appendChild(editBtn);
    div.appendChild(deleteBtn);
    chatWindow.appendChild(div);
  });
  chatWindow.scrollTop = chatWindow.scrollHeight;
}

function sendMessage() {
  const username = document.getElementById('username').value.trim();
  const text = document.getElementById('message').value.trim();
  if(!username || !text) { alert('Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ ÙˆØ§Ù„Ø±Ø³Ø§Ù„Ø©'); return; }
  messages.push({username, text});
  document.getElementById('message').value = '';
  renderMessages();
}

function editMessage(index) {
  const newText = prompt('Ø¹Ø¯Ù„ Ø±Ø³Ø§Ù„ØªÙƒ:', messages[index].text);
  if(newText !== null && newText.trim() !== '') {
    messages[index].text = newText;
    renderMessages();
  }
}

function deleteMessage(index) {
  if(confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŸ')) {
    messages.splice(index,1);
    renderMessages();
  }
}
</script>

</body>
</html>
